<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Raymond Butcher's personal website.">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
        <style>nav a,section h1{text-transform:uppercase}aside.left,aside.right{position:fixed;top:0;bottom:0}aside nav a,body,html{width:100%}nav,nav a{vertical-align:middle}*{box-sizing:border-box}*,nav a{-moz-box-sizing:border-box;-webkit-box-sizing:border-box}body{margin:0;font-family:sans-serif}aside,footer,main,section{display:block}nav a,nav li{display:inline-block}a{text-decoration:none;color:#3d92c9}.notouch a:hover,a:active{text-decoration:underline}section footer{font-size:80%;text-align:center;clear:both}section footer i{margin-left:4px}section h1{color:#aaa;border-bottom:1px solid #eee;font-size:80%;font-weight:500;letter-spacing:.1em;margin:-1.5rem 0 2rem;padding:0;line-height:1.5rem}nav ul{list-style:none;margin:0;padding:0}nav a{zoom:1;line-height:normal;white-space:nowrap;text-align:center;cursor:pointer;-webkit-user-drag:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box;color:#444;letter-spacing:.05em;padding:.5em .75em}nav i{display:block!important;margin-bottom:3px;transition-duration:.4s;transition-property:color transform}aside nav ul,ul{display:inline-block}nav span{font-size:xx-small;text-decoration:none}.notouch nav a:hover,nav a:active{color:#3d92c9;text-decoration:none}.notouch nav a:hover i,nav a:active i{-webkit-transform:none;transform:scale(1.05)}.notouch nav a:hover span,nav a:active span{text-decoration:underline}aside nav li{padding-top:.5rem;padding-bottom:.5rem;clear:right;width:100%}aside.left{text-align:right;padding-right:1em}aside.right,h2,section h1{text-align:left}aside.left nav,aside.left nav li{float:right}aside.left ul{border-right:solid 1px #eee}aside.right{right:0;padding-left:1em}aside.right nav,aside.right nav li{float:left}aside.right ul{border-left:solid 1px #eee}body,html{height:100%}.loading{opacity:0}aside{display:table;width:5em;height:100%}nav{display:table-cell;float:none!important;border:none!important}main{margin-left:5em;margin-right:5em;padding:1px 0}section{margin:0;padding-top:2.25rem;text-align:center}section h1{margin-bottom:1rem}h2{margin:0 0 .5rem}footer{margin:.75rem}</style>
        <title>Stonethwaite, England - Raymond Butcher</title>
        <link rel="prev" href="/photo/p4xJcu/">
        <link rel="next" href="/photo/ixapv3/">
    </head>
    <body class="notouch">
        <script>document.body.className += ' loading'</script>
        <aside class="left">
            <nav>
                <ul>
                    <li>
                        <a href="/photo/p4xJcu/">
                            <i class="fa fa-caret-left fa-2x"></i>
                            <span>Prev</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>
        <main>
            <section>
                <h1>
                    <a href="../../">Home</a>
                    <i class="fa fa-angle-right"></i>
                    Photo
                </h1>
                <h2>Stonethwaite, England</h2>
                <img src="https://farm6.staticflickr.com/5558/14134939710_1c61bdb2aa_h.jpg" alt="Stonethwaite, England" width="500" height="375">
                <footer>
                    <a href="https://www.flickr.com/photos/raymondbutcher/14134939710/">View on Flickr<i class="fa fa-arrow-circle-right"></i></a>
                </footer>
            </section>
        </main>
        <aside class="right">
            <nav>
                <ul>
                    <li>
                        <a href="/photo/ixapv3/">
                            <i class="fa fa-caret-right fa-2x"></i>
                            <span>Next</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </aside>
        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script>var notouch=false;$(window).on("touchstart",function(){if(notouch===false){notouch=true;$("body").removeClass("notouch")}});$(document).ready(function(){var $window=$(window),$document=$(document),$body=$(document.body),leftSelector="aside.left",rightSelector="aside.right",middleSelector="main",minHeight=300,$left,$middle,$right,$img,ratio;function zoomed(){return $body.width()!=$window.width()||$body.height()!=$window.height()}function resize(){$middle.css("padding","");var windowWidth=$window.width(),windowHeight=$window.height();if(zoomed()){return}windowHeight=Math.max(windowHeight,minHeight);for(var i=0;i<5;i++){var textHeight=$middle.height()-$img.height(),maxWidth=$middle.width(),maxHeight=windowHeight-textHeight;width=maxHeight*ratio,height=null,hPadding=0,vPadding=0;if(width<=maxWidth){height=maxHeight;hPadding=(maxWidth-width)/2}else{width=maxWidth;height=maxWidth/ratio;vPadding=(maxHeight-height)/2}$img.attr({width:width,height:height});$middle.css({padding:vPadding+"px "+hPadding+"px"});var reflowY=$middle.height()-windowHeight;if(reflowY>1){windowHeight-=reflowY}}}function init(){$left=$(leftSelector);$middle=$(middleSelector);$right=$(rightSelector);$img=$("img");ratio=parseInt($img.attr("width"))/parseInt($img.attr("height"));resize()}init();$body.removeClass("loading");$window.on("resize",resize);if($(rightSelector).length==0){return}var requests={},$pages={},lru=[],lruSize=10,preloads=1,preloadsMax=4;function request(url){if(requests[url]===undefined){requests[url]=$.get(url)}return requests[url]}function load(url){var def=$.Deferred();request(url).done(function(html){if($pages[url]===undefined){$pages[url]=$("<div>").html(html)}def.resolve(url,$pages[url])}).fail(function(){console.log("load failed",url);def.reject(url)});return def.promise()}function preload($page,dir,depth){var getURL=dir=="prev"?prevURL:nextURL;load(getURL($page)).done(function(url,$page){if(depth<preloads){preload($page,dir,depth+1)}else if(preloads<preloadsMax){preloads++}})}function update(url){var def=$.Deferred();load(url).done(function(url,$page){$document.attr("title",$page.find("title").text());$left.replaceWith($page.find(leftSelector).clone());$middle.replaceWith($page.find(middleSelector).clone());$right.replaceWith($page.find(rightSelector).clone());init();prune(url);def.resolve(url,$page)}).fail(function(){console.log("update failed",url);def.reject(url)});return def.promise()}function prune(url){var i=lru.indexOf(url);if(i!=-1){lru.splice(i,1)}lru.push(url);if(lru.length>lruSize){var split=lru.length-lruSize;for(var i=0;i<split;i++){var oldURL=lru[i];delete request[oldURL];delete $pages[oldURL]}lru=lru.slice(split)}}function prevURL($c){return $(leftSelector,$c).find("a").get(0).href}function nextURL($c){return $(rightSelector,$c).find("a").get(0).href}$img.on("load",function(){load(nextURL())});function navigate(dir){var getURL=dir=="prev"?prevURL:nextURL;function modernNavigate(e){update(getURL()).done(function(url,$page){var paths=url.replace(/\/$/,"").split("/"),id=paths[paths.length-1];window.history.pushState({id:id},id,url);preload($page,dir,0)}).fail(function(url){console.log("navigate failed "+url);window.location=url});if(e){e.preventDefault()}}function oldNavigate(e){window.location=getURL();if(e){e.preventDefault()}}if(window.history.pushState){return modernNavigate}else{return oldNavigate}}var navigatePrev=navigate("prev"),navigateNext=navigate("next"),swipeX=null,swipeY=null;$document.on("click touchstart",leftSelector+" a",navigatePrev).on("click touchstart",rightSelector+" a",navigateNext).on("keyup",function(e){if(e.which==37){navigatePrev(e)}else if(e.which==39){navigateNext(e)}}).on("touchstart","img",function(e){var touches=e.originalEvent.touches,fingers=touches.length;if(fingers==1){if(!zoomed()){swipeX=touches[0].pageX;swipeY=touches[0].pageY}}else{swipeX=null}}).on("touchmove touchend",function(e){if(swipeX!==null){var touches=e.originalEvent.changedTouches,x=touches[0].pageX,y=touches[0].pageY,dx=Math.abs(x-swipeX);if(dx>100){var dy=Math.abs(y-swipeY);if(dy<dx/3){if(x>swipeX){navigatePrev(e)}else{navigateNext(e)}swipeX=null}}if(e.type=="touchend"){swipeX=null}}}).on("touchcancel",function(e){swipeX=null})});</script>
    </body>
</html>
