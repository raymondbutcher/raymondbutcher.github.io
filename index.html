<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="A layout example that shows off a blog page with a list of posts.">
        <title>Raymond Butcher</title>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
        <!--[if lte IE 8]>
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
        <![endif]-->
        <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
        <!--<![endif]-->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css">
        <style type="text/css">.mfp-bg{top:0;left:0;width:100%;height:100%;z-index:1042;overflow:hidden;position:fixed;background:#0b0b0b;opacity:.8;filter:alpha(opacity=80)}.mfp-wrap{top:0;left:0;width:100%;height:100%;z-index:1043;position:fixed;outline:none!important;-webkit-backface-visibility:hidden}.mfp-container{text-align:center;position:absolute;width:100%;height:100%;left:0;top:0;padding:0 8px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.mfp-container:before{content:'';display:inline-block;height:100%;vertical-align:middle}.mfp-align-top .mfp-container:before{display:none}.mfp-content{position:relative;display:inline-block;vertical-align:middle;margin:0 auto;text-align:left;z-index:1045}.mfp-inline-holder .mfp-content,.mfp-ajax-holder .mfp-content{width:100%;cursor:auto}.mfp-ajax-cur{cursor:progress}.mfp-zoom-out-cur,.mfp-zoom-out-cur .mfp-image-holder .mfp-close{cursor:-moz-zoom-out;cursor:-webkit-zoom-out;cursor:zoom-out}.mfp-zoom{cursor:pointer;cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.mfp-auto-cursor .mfp-content{cursor:auto}.mfp-close,.mfp-arrow,.mfp-preloader,.mfp-counter{-webkit-user-select:none;-moz-user-select:none;user-select:none}.mfp-loading.mfp-figure{display:none}.mfp-hide{display:none!important}button.mfp-close,button.mfp-arrow{overflow:visible;cursor:pointer;background:transparent;border:0;-webkit-appearance:none;display:block;outline:0;padding:0;z-index:1046;-webkit-box-shadow:none;box-shadow:none}button::-moz-focus-inner{padding:0;border:0}.mfp-close{width:44px;height:44px;line-height:44px;position:absolute;right:0;top:0;text-decoration:none;text-align:center;opacity:.65;filter:alpha(opacity=65);padding:0 0 18px 10px;color:#fff;font-style:normal;font-size:28px;font-family:arial,baskerville,monospace}.mfp-close:hover,.mfp-close:focus{opacity:1;filter:alpha(opacity=100)}.mfp-close:active{top:1px}.mfp-close-btn-in .mfp-close{color:#333}.mfp-image-holder .mfp-close,.mfp-iframe-holder .mfp-close{color:#fff;right:-6px;text-align:right;padding-right:6px;width:100%}.mfp-counter{position:absolute;top:0;right:0;color:#ccc;font-size:12px;line-height:18px;white-space:nowrap}.mfp-arrow{position:absolute;opacity:.65;filter:alpha(opacity=65);margin:0;top:50%;margin-top:-55px;padding:0;width:90px;height:110px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mfp-arrow:active{margin-top:-54px}.mfp-arrow:hover,.mfp-arrow:focus{opacity:1;filter:alpha(opacity=100)}.mfp-arrow:before,.mfp-arrow:after,.mfp-arrow .mfp-b,.mfp-arrow .mfp-a{content:'';display:block;width:0;height:0;position:absolute;left:0;top:0;margin-top:35px;margin-left:35px;border:medium inset transparent}.mfp-arrow:after,.mfp-arrow .mfp-a{border-top-width:13px;border-bottom-width:13px;top:8px}.mfp-arrow:before,.mfp-arrow .mfp-b{border-top-width:21px;border-bottom-width:21px;opacity:.7}.mfp-arrow-left{left:0}.mfp-arrow-left:after,.mfp-arrow-left .mfp-a{border-right:17px solid #fff;margin-left:31px}.mfp-arrow-left:before,.mfp-arrow-left .mfp-b{margin-left:25px;border-right:27px solid #3f3f3f}.mfp-arrow-right{right:0}.mfp-arrow-right:after,.mfp-arrow-right .mfp-a{border-left:17px solid #fff;margin-left:39px}.mfp-arrow-right:before,.mfp-arrow-right .mfp-b{border-left:27px solid #3f3f3f}img.mfp-img{width:auto;max-width:100%;height:auto;display:block;line-height:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:40px 0 55px;margin:0 auto}.mfp-figure{line-height:0}.mfp-figure:after{content:'';position:absolute;left:0;top:40px;bottom:55px;display:block;right:0;width:auto;height:auto;z-index:-1;box-shadow:0 0 8px rgba(0,0,0,.6);background:#444}.mfp-figure small{color:#bdbdbd;display:block;font-size:12px;line-height:14px}.mfp-figure figure{margin:0}.mfp-bottom-bar{margin-top:-51px;position:absolute;top:100%;left:0;width:100%}.mfp-title{text-align:left;line-height:18px;color:#f3f3f3;word-wrap:break-word;padding-right:36px}.mfp-image-holder .mfp-content{max-width:100%}.mfp-gallery .mfp-image-holder .mfp-figure{}@media screen and (max-width:800px) and (orientation:landscape),screen and (max-height:300px){.mfp-img-mobile .mfp-image-holder{padding-left:0;padding-right:0}.mfp-img-mobile img.mfp-img{padding:0}.mfp-img-mobile .mfp-figure:after{top:0;bottom:0}.mfp-img-mobile .mfp-figure small{display:inline;margin-left:5px}.mfp-img-mobile .mfp-bottom-bar{background:rgba(0,0,0,.6);bottom:0;margin:0;top:auto;padding:3px 5px;position:fixed;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.mfp-img-mobile .mfp-bottom-bar:empty{padding:0}.mfp-img-mobile .mfp-counter{right:5px;top:3px}.mfp-img-mobile .mfp-close{top:0;right:0;width:35px;height:35px;line-height:35px;background:rgba(0,0,0,.6);position:fixed;text-align:center;padding:0}}@media all and (max-width:900px){.mfp-arrow{-webkit-transform:scale(.75);transform:scale(.75)}.mfp-arrow-left{-webkit-transform-origin:0;transform-origin:0}.mfp-arrow-right{-webkit-transform-origin:100%;transform-origin:100%}.mfp-container{padding-left:6px;padding-right:6px}}.mfp-ie7 .mfp-img{padding:0}.mfp-ie7 .mfp-bottom-bar{width:600px;left:50%;margin-left:-300px;margin-top:5px;padding-bottom:5px}.mfp-ie7 .mfp-container{padding:0}.mfp-ie7 .mfp-content{padding-top:44px}.mfp-ie7 .mfp-close{top:0;right:0;padding-top:0}*{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}body{overflow-x:hidden}a{text-decoration:none;color:#3d92c9}a:hover,a:focus,a:active{text-decoration:underline}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.sidebar{display:none}.nav-list{margin:0;padding:0;list-style:none}.nav-item{display:inline-block*;display:inline;zoom:1}.nav-item a{background:transparent;color:#3d4f5d;letter-spacing:.05em;text-transform:uppercase;padding:.5em .75em}.nav-item i{display:block;margin-bottom:3px}.nav-item span{font-size:xx-small}.nav-item a:hover,.nav-item a:focus,.nav-item a:active{background:#fff;color:#3d92c9;text-decoration:none;box-shadow:none}.nav-item a:hover span,.nav-item a:focus span{text-decoration:underline}.content{padding:.5em 1em 0}.photos .read-more{padding:1.5em 0}.links .nav-list{font-size:80%}.content-subhead{text-transform:uppercase;color:#aaa;border-bottom:1px solid #eee;padding:.4em 0;font-size:80%;font-weight:500;letter-spacing:.1em;line-height:1em}.post{padding-bottom:2em}.post:last-child{padding-bottom:0}.post-title{font-size:2em;color:#222;margin-bottom:.2em}.post-meta{color:#999;font-size:80%;margin:0}.post-description{font-family:georgia,cambria,serif;color:#444;line-height:1.8em}.read-more{font-size:80%;text-align:center;clear:both}.read-more i{margin-left:4px}.links .nav-list{text-align:center}@media (min-width:48em){.sidebar{display:block;position:fixed;top:0;bottom:0}.header{text-align:right;top:auto;margin:4em 0 0}.nav{display:inline-block;border-right:solid 1px #eee;position:relative}.nav-pointer{width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-right:10px solid #eee;position:absolute;right:-1px;-webkit-transition:top .5s;transition:top .5s}.nav .nav-item{padding-top:.5em;padding-bottom:.5em;float:right;clear:right;width:100%}.nav .nav-item a{width:100%}.content{margin-left:25%;padding:2em 3em 0 2em}.links,.posts{max-width:650px}.links .nav-list{font-size:100%}}#gallery{margin-top:2em}#gallery a{float:left;font-size:0;outline:0}#gallery.noscript{margin:2em}#gallery.noscript a{display:inline-block;float:none;margin:0 1rem 1.2rem 0;vertical-align:top}.mfp-bg{background:none!important;-webkit-transition:background .5s;transition:background .5s}.mfp-bg.mfp-ready{background:#0b0b0b!important}.mfp-bg.mfp-removing{background:none!important}.mfp-wrap{letter-spacing:normal}.mfp-wrap button{transition:opacity .5s}.mfp-wrap.mfp-removing button{opacity:0 !important}button.mfp-arrow{}button.mfp-arrow-left{border-top-right-radius:10px;border-bottom-right-radius:10px}button.mfp-arrow-right{border-top-left-radius:10px;border-bottom-left-radius:10px}</style>
        <!--[if lt IE 9]>
        <script src="http://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.js"></script>
        <![endif]-->
    </head>
    <body class="pure-g">

        <div class="sidebar pure-u-1 pure-u-md-1-4">
            <div class="header">
                <nav class="nav">
                    <ul class="nav-list">
                        <li id="links-nav" class="nav-item">
                            <a class="pure-button" href="#links">
                                <i class="fa fa-external-link fa-2x"></i>
                                <span>Links</span>
                            </a>
                        </li>
                        <li id="posts-nav" class="nav-item">
                            <a class="pure-button" href="#posts">
                                <i class="fa fa-newspaper-o fa-2x"></i>
                                <span>Posts</span>
                            </a>
                        </li>
                        <li id="photos-nav" class="nav-item">
                            <a class="pure-button" href="#photos">
                                <i class="fa fa-camera-retro fa-2x"></i>
                                <span>Photos</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>

        <div id="links" class="content links pure-u-1 pure-u-md-3-4">
            <h1 class="content-subhead">Links</h1>
            <ul class="nav-list">
                <li class="nav-item">
                    <a class="pure-button" href="https://www.facebook.com/raymond.butcher" target="_blank">
                        <i class="fa fa-facebook-square fa-2x"></i>
                        <span>Facebook</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="https://www.flickr.com/photos/raymondbutcher" target="_blank">
                        <i class="fa fa-flickr fa-2x"></i>
                        <span>Flickr</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="https://github.com/raymondbutcher" target="_blank">
                        <i class="fa fa-github-square fa-2x"></i>
                        <span>GitHub</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="pure-button" href="https://linkedin.com/in/raymondbutcher" target="_blank">
                        <i class="fa fa-linkedin-square fa-2x"></i>
                        <span>LinkedIn</span>
                    </a>
                </li>
            </ul>
        </div>

        <div id="posts" class="content posts pure-u-1 pure-u-md-3-4">
            <h1 class="content-subhead">Posts</h1>

            <section class="post">
                <header class="post-header">
                    <h2 class="post-title">Making rbutcher.com</h2>
                    <p class="post-meta">
                        April 14, 2015
                    </p>
                </header>
                <div class="post-description">
                    <p>
                        I was thinking that, since I build them for a living,
                        I should probably have a website. So here is the beginning
                        of one. It is still very much in progress.
                    </p>
                    <p>
                        I'm using this as an opportunity to get more experience
                        using the <a href="http://golang.org/" target="_blank">Go</a>
                        programming language, which is being used to generate the
                        page and its data.
                    </p>
                    <p>
                        Well, that's it for now. I'll add real content later.
                    </p>
                </div>
            </section>

        </div>

        <div id="photos" class="content photos pure-u-1 pure-u-md-3-4">
            <h1 class="content-subhead">Photos</h1>

            <section class="gallery">
                <div id="gallery" class="noscript">
                    <noscript>
                        <a href="https://flic.kr/p/oe2hQQ">
                            <img src="https://farm4.staticflickr.com/3868/14587215112_f219bbabee.jpg" width="500" height="370" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/ruJD6w">
                            <img src="https://farm8.staticflickr.com/7653/16734100580_52bbc1bc96.jpg" width="500" height="475" alt="Edinburgh Dusk"/>
                        </a>
                        <a href="https://flic.kr/p/nQJa5n">
                            <img src="https://farm6.staticflickr.com/5578/14334909169_ed35c06da7.jpg" width="500" height="375" alt="Lac du Bourget, France"/>
                        </a>
                        <a href="https://flic.kr/p/kV4Zjs">
                            <img src="https://farm8.staticflickr.com/7418/13071331034_5de8a6e758.jpg" width="500" height="375" alt="Helvellyn, England"/>
                        </a>
                        <a href="https://flic.kr/p/ivHgWd">
                            <img src="https://farm6.staticflickr.com/5471/11494296636_f320258f50.jpg" width="375" height="500" alt="Nevada"/>
                        </a>
                        <a href="https://flic.kr/p/oe1Gef">
                            <img src="https://farm4.staticflickr.com/3848/14587098672_bc4075ba76.jpg" width="500" height="375" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/oKFCA1">
                            <img src="https://farm6.staticflickr.com/5566/14934190668_a982a4a0d2.jpg" width="500" height="375" alt="Basel, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/kaq8gJ">
                            <img src="https://farm3.staticflickr.com/2857/12577334204_e1f9827acb.jpg" width="500" height="375" alt="Dungeon Ghyll, England"/>
                        </a>
                        <a href="https://flic.kr/p/nFCvtL">
                            <img src="https://farm4.staticflickr.com/3857/14231958670_02a9fa3aeb.jpg" width="500" height="375" alt="Roman Emperor Constantine, York Minster"/>
                        </a>
                        <a href="https://flic.kr/p/oc3NFW">
                            <img src="https://farm4.staticflickr.com/3846/14564877636_72c46989f7.jpg" width="500" height="375" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/obm9Uw">
                            <img src="https://farm4.staticflickr.com/3921/14556946054_16d8e2e6dc.jpg" width="500" height="375" alt="Geneva, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/ivaS6D">
                            <img src="https://farm4.staticflickr.com/3674/11488167975_62edc4f219.jpg" width="500" height="375" alt="Pacific Coast Highway, California"/>
                        </a>
                        <a href="https://flic.kr/p/obtmou">
                            <img src="https://farm6.staticflickr.com/5526/14558350464_8a74400ae5.jpg" width="500" height="390" alt="Interlaken, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/oe2iNb">
                            <img src="https://farm4.staticflickr.com/3926/14587218322_b00d0f674c.jpg" width="500" height="364" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/o7h7Wx">
                            <img src="https://farm3.staticflickr.com/2928/14510893011_ea6e351243.jpg" width="500" height="378" alt="Avallon, France"/>
                        </a>
                        <a href="https://flic.kr/p/o6NcF8">
                            <img src="https://farm3.staticflickr.com/2896/14505445801_51b783b3fe.jpg" width="500" height="375" alt="Eiffel Tower"/>
                        </a>
                        <a href="https://flic.kr/p/oe1qkS">
                            <img src="https://farm4.staticflickr.com/3863/14587045232_403fb5ca86.jpg" width="500" height="375" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/ix8yvP">
                            <img src="https://farm4.staticflickr.com/3737/11510351593_bcd49efb22.jpg" width="500" height="375" alt="Great Sand Dunes, Colorado"/>
                        </a>
                        <a href="https://flic.kr/p/oXxuQU">
                            <img src="https://farm4.staticflickr.com/3872/15068401676_2c8767a124.jpg" width="500" height="375" alt="Basel, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/nQHR2Z">
                            <img src="https://farm4.staticflickr.com/3861/14334848479_9b43cf0713.jpg" width="500" height="375" alt="Lac du Bourget, France"/>
                        </a>
                        <a href="https://flic.kr/p/p4xJcu">
                            <img src="https://farm4.staticflickr.com/3908/15136345578_4b6dc3d418.jpg" width="500" height="375" alt="Fiona"/>
                        </a>
                        <a href="https://flic.kr/p/nx4g85">
                            <img src="https://farm6.staticflickr.com/5558/14134939710_c9a5ed6e47.jpg" width="500" height="375" alt="Stonethwaite, England"/>
                        </a>
                        <a href="https://flic.kr/p/ixapv3">
                            <img src="https://farm8.staticflickr.com/7393/11510711496_55a979fd51.jpg" width="500" height="375" alt="Great Sand Dunes, Colorado"/>
                        </a>
                        <a href="https://flic.kr/p/nWBrXM">
                            <img src="https://farm4.staticflickr.com/3898/14401499167_a1800f7a33.jpg" width="500" height="375" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/nPnJF1">
                            <img src="https://farm3.staticflickr.com/2905/14319608342_d9ff81b0a1.jpg" width="500" height="375" alt="Stonethwaite, England"/>
                        </a>
                        <a href="https://flic.kr/p/odqMkg">
                            <img src="https://farm6.staticflickr.com/5516/14580482033_34f590cc4d.jpg" width="500" height="375" alt="Trümmelbach Falls, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/ixHgt6">
                            <img src="https://farm4.staticflickr.com/3811/11516928055_675aafa936.jpg" width="500" height="375" alt="Grand Canyon"/>
                        </a>
                        <a href="https://flic.kr/p/ivMgvK">
                            <img src="https://farm8.staticflickr.com/7451/11495075665_fa0f5ba829.jpg" width="500" height="375" alt="Utah"/>
                        </a>
                        <a href="https://flic.kr/p/kakyhg">
                            <img src="https://farm8.staticflickr.com/7389/12576442775_24b9b7d6f4.jpg" width="500" height="375" alt="Dungeon Ghyll, England"/>
                        </a>
                        <a href="https://flic.kr/p/nWAKun">
                            <img src="https://farm3.staticflickr.com/2918/14401363017_fb38b620e6.jpg" width="500" height="375" alt="Sphinx Observatory"/>
                        </a>
                        <a href="https://flic.kr/p/ivBRkY">
                            <img src="https://farm4.staticflickr.com/3781/11493238354_aa8a22dc39.jpg" width="375" height="500" alt="Yosemite, California"/>
                        </a>
                        <a href="https://flic.kr/p/obvSj7">
                            <img src="https://farm3.staticflickr.com/2900/14558841354_20dc14fdb6.jpg" width="500" height="361" alt="Trümmelbach Falls, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/iwQLGh">
                            <img src="https://farm6.staticflickr.com/5471/11507075664_7d58150ced.jpg" width="375" height="500" alt="Rocky Mountains"/>
                        </a>
                        <a href="https://flic.kr/p/nWzksE">
                            <img src="https://farm3.staticflickr.com/2913/14401087070_d5eb2b93e7.jpg" width="500" height="375" alt="Jungfraujoch, Switzerland"/>
                        </a>
                        <a href="https://flic.kr/p/ivcvSY">
                            <img src="https://farm3.staticflickr.com/2842/11488490184_afe10ef04b.jpg" width="500" height="375" alt="Pacific Coast Highway, California"/>
                        </a>
                        <a href="https://flic.kr/p/ivox1Y">
                            <img src="https://farm4.staticflickr.com/3754/11490640244_9ee1d978d1.jpg" width="500" height="375" alt="Sierra Nevada, California"/>
                        </a>
                        <a href="https://flic.kr/p/ofRqBv">
                            <img src="https://farm4.staticflickr.com/3906/14607923123_3d32dc5047.jpg" width="500" height="375" alt="Jungfraujoch, Switzerland"/>
                        </a>
                    </noscript>
                </div>
                <div class="read-more">
                    <a href="https://www.flickr.com/photos/raymondbutcher" target="_blank">More photos on Flickr<i class="fa fa-arrow-circle-right"></i></a>
                </div>
            </section>
        </div>

        <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script>function flickrURL(url,width,height){var longestSide=Math.max(width,height),idealSize=null
for(var i=0;i<flickrSizes.length-1;i++){var nextSize=flickrSizes[i+1];if(longestSide>=nextSize.num){idealSize=flickrSizes[i]
break}}
if(idealSize===null){idealSize=flickrSizes[flickrSizes.length-1]}
return url.replace(/(_.)?\.jpg$/i,idealSize.suffix+'.jpg')}
var flickrSizes=[{num:1024,suffix:'_b'},{num:640,suffix:'_z'},{num:500,suffix:''},{num:320,suffix:'_n'},{num:240,suffix:'_m'},{num:100,suffix:'_t'},];$.fn.imgrid=function(options){var $gallery=$(this),galleryWidth=$gallery.width(),rowHeight=options['rowHeight'],selector=options['selector'];if(isNaN(rowHeight)){throw'Invalid number for rowHeight';}
var newRow=function(){return{items:[],width:0,push:function($el){var width=parseFloat($el.attr('data-img-width')),ratio=parseFloat($el.attr('data-img-ratio')),newWidth=rowHeight*ratio;this.width+=newWidth;this.items.push($el);},pop:function(){var $el=this.items.pop(),width=parseFloat($el.attr('data-img-width')),ratio=parseFloat($el.attr('data-img-ratio')),newWidth=rowHeight*ratio;this.width-=newWidth;return $el;},shift:function(){var $el=this.items.shift(),width=parseFloat($el.attr('data-img-width')),ratio=parseFloat($el.attr('data-img-ratio')),newWidth=rowHeight*ratio;this.width-=newWidth;return $el;},unshift:function($el){var width=parseFloat($el.attr('data-img-width')),ratio=parseFloat($el.attr('data-img-ratio')),newWidth=rowHeight*ratio;this.width+=newWidth;this.items.unshift($el);},ratio:function(){return galleryWidth/this.width;},render:function(){var imgHeight=rowHeight*this.ratio(galleryWidth),widthRemaining=galleryWidth;for(var i=0;i<this.items.length;i++){var $el=$(this.items[i]);if(i==this.items.length-1){imgWidth=widthRemaining;}else{imgRatio=parseFloat($el.attr('data-img-ratio'));imgWidth=Math.ceil(imgHeight*imgRatio);widthRemaining-=imgWidth;}
$el.css('width',imgWidth).css('height',parseInt(imgHeight));imgWidth+=2;if($el.is('img')){$el.attr('width',imgWidth);}else{$el.find('img').each(function(){$(this).attr('width',imgWidth);});}}}}}
var newGallery=function($items){var gallery={push:function($el){this.row.push($el);if(this.row.width>galleryWidth){this.flush();}},flush:function(){this.rows.push(this.row);this.row=newRow();},balance:function(){var lastRow=this.rows[this.rows.length-1],prevRow=this.rows[this.rows.length-2];for(var i=0;i<5;i++){if(lastRow.items.length==prevRow.items.length){break;}
var ratio=lastRow.width/prevRow.width;if(i>2){console.log('Unexpected row sizes',prevRow.items.length,lastRow.items.length,ratio);}
if(ratio>0.6){break;}else if(ratio<0.45){lastRow.push(prevRow.pop());}else{if(lastRow.items.length==1){prevRow.push(lastRow.shift());}else{}
break;}}},render:function(){$gallery.css('width',galleryWidth+'px');this.rows=[]
this.row=newRow()
$items.each(function(){gallery.push($(this));});if(this.row.items.length){this.flush();}
this.balance();$.each(this.rows,function(){this.render(this.width,rowHeight);});}};var resizeTimer=null;$(window).on('resize resized',function(){$gallery.css('width',galleryWidth+'px');clearTimeout(resizeTimer);resizeTimer=setTimeout(function(){$gallery.css('width','100%');galleryWidth=$gallery.width();gallery.render();$gallery.trigger('resize.imgrid');},500);})
return gallery;};var gallery=newGallery($gallery.find(selector));gallery.render();return this;};(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){factory(require('jquery'));}else{factory(window.jQuery||window.Zepto);}}(function($){var CLOSE_EVENT='Close',BEFORE_CLOSE_EVENT='BeforeClose',AFTER_CLOSE_EVENT='AfterClose',BEFORE_APPEND_EVENT='BeforeAppend',MARKUP_PARSE_EVENT='MarkupParse',OPEN_EVENT='Open',CHANGE_EVENT='Change',NS='mfp',EVENT_NS='.'+NS,READY_CLASS='mfp-ready',REMOVING_CLASS='mfp-removing',PREVENT_CLOSE_CLASS='mfp-prevent-close';var mfp,MagnificPopup=function(){},_isJQ=!!(window.jQuery),_prevStatus,_window=$(window),_document,_prevContentType,_wrapClasses,_currPopupType;var _mfpOn=function(name,f){mfp.ev.on(NS+name+EVENT_NS,f);},_getEl=function(className,appendTo,html,raw){var el=document.createElement('div');el.className='mfp-'+className;if(html){el.innerHTML=html;}
if(!raw){el=$(el);if(appendTo){el.appendTo(appendTo);}}else if(appendTo){appendTo.appendChild(el);}
return el;},_mfpTrigger=function(e,data){mfp.ev.triggerHandler(NS+e,data);if(mfp.st.callbacks){e=e.charAt(0).toLowerCase()+e.slice(1);if(mfp.st.callbacks[e]){mfp.st.callbacks[e].apply(mfp,$.isArray(data)?data:[data]);}}},_getCloseBtn=function(type){if(type!==_currPopupType||!mfp.currTemplate.closeBtn){mfp.currTemplate.closeBtn=$(mfp.st.closeMarkup.replace('%title%',mfp.st.tClose));_currPopupType=type;}
return mfp.currTemplate.closeBtn;},_checkInstance=function(){if(!$.magnificPopup.instance){mfp=new MagnificPopup();mfp.init();$.magnificPopup.instance=mfp;}},supportsTransitions=function(){var s=document.createElement('p').style,v=['ms','O','Moz','Webkit'];if(s['transition']!==undefined){return true;}
while(v.length){if(v.pop()+'Transition'in s){return true;}}
return false;};MagnificPopup.prototype={constructor:MagnificPopup,init:function(){var appVersion=navigator.appVersion;mfp.isIE7=appVersion.indexOf("MSIE 7.")!==-1;mfp.isIE8=appVersion.indexOf("MSIE 8.")!==-1;mfp.isLowIE=mfp.isIE7||mfp.isIE8;mfp.isAndroid=(/android/gi).test(appVersion);mfp.isIOS=(/iphone|ipad|ipod/gi).test(appVersion);mfp.supportsTransition=supportsTransitions();mfp.probablyMobile=(mfp.isAndroid||mfp.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent));_document=$(document);mfp.popupsCache={};},open:function(data){var i;if(data.isObj===false){mfp.items=data.items.toArray();mfp.index=0;var items=data.items,item;for(i=0;i<items.length;i++){item=items[i];if(item.parsed){item=item.el[0];}
if(item===data.el[0]){mfp.index=i;break;}}}else{mfp.items=$.isArray(data.items)?data.items:[data.items];mfp.index=data.index||0;}
if(mfp.isOpen){mfp.updateItemHTML();return;}
mfp.types=[];_wrapClasses='';if(data.mainEl&&data.mainEl.length){mfp.ev=data.mainEl.eq(0);}else{mfp.ev=_document;}
if(data.key){if(!mfp.popupsCache[data.key]){mfp.popupsCache[data.key]={};}
mfp.currTemplate=mfp.popupsCache[data.key];}else{mfp.currTemplate={};}
mfp.st=$.extend(true,{},$.magnificPopup.defaults,data);mfp.fixedContentPos=mfp.st.fixedContentPos==='auto'?!mfp.probablyMobile:mfp.st.fixedContentPos;if(mfp.st.modal){mfp.st.closeOnContentClick=false;mfp.st.closeOnBgClick=false;mfp.st.showCloseBtn=false;mfp.st.enableEscapeKey=false;}
if(!mfp.bgOverlay){mfp.bgOverlay=_getEl('bg').on('click'+EVENT_NS,function(){mfp.close();});mfp.wrap=_getEl('wrap').attr('tabindex',-1).on('click'+EVENT_NS,function(e){if(mfp._checkIfClose(e.target)){mfp.close();}});mfp.container=_getEl('container',mfp.wrap);}
mfp.contentContainer=_getEl('content');if(mfp.st.preloader){mfp.preloader=_getEl('preloader',mfp.container,mfp.st.tLoading);}
var modules=$.magnificPopup.modules;for(i=0;i<modules.length;i++){var n=modules[i];n=n.charAt(0).toUpperCase()+n.slice(1);mfp['init'+n].call(mfp);}
_mfpTrigger('BeforeOpen');if(mfp.st.showCloseBtn){if(!mfp.st.closeBtnInside){mfp.wrap.append(_getCloseBtn());}else{_mfpOn(MARKUP_PARSE_EVENT,function(e,template,values,item){values.close_replaceWith=_getCloseBtn(item.type);});_wrapClasses+=' mfp-close-btn-in';}}
if(mfp.st.alignTop){_wrapClasses+=' mfp-align-top';}
if(mfp.fixedContentPos){mfp.wrap.css({overflow:mfp.st.overflowY,overflowX:'hidden',overflowY:mfp.st.overflowY});}else{mfp.wrap.css({top:_window.scrollTop(),position:'absolute'});}
if(mfp.st.fixedBgPos===false||(mfp.st.fixedBgPos==='auto'&&!mfp.fixedContentPos)){mfp.bgOverlay.css({height:_document.height(),position:'absolute'});}
if(mfp.st.enableEscapeKey){_document.on('keyup'+EVENT_NS,function(e){if(e.keyCode===27){mfp.close();}});}
_window.on('resize'+EVENT_NS,function(){mfp.updateSize();});if(!mfp.st.closeOnContentClick){_wrapClasses+=' mfp-auto-cursor';}
if(_wrapClasses)
mfp.wrap.addClass(_wrapClasses);var windowHeight=mfp.wH=_window.height();var windowStyles={};if(mfp.fixedContentPos){if(mfp._hasScrollBar(windowHeight)){var s=mfp._getScrollbarSize();if(s){windowStyles.marginRight=s;}}}
if(mfp.fixedContentPos){if(!mfp.isIE7){windowStyles.overflow='hidden';}else{$('body, html').css('overflow','hidden');}}
var classesToadd=mfp.st.mainClass;if(mfp.isIE7){classesToadd+=' mfp-ie7';}
if(classesToadd){mfp._addClassToMFP(classesToadd);}
mfp.updateItemHTML();_mfpTrigger('BuildControls');$('html').css(windowStyles);mfp.bgOverlay.add(mfp.wrap).prependTo(mfp.st.prependTo||$(document.body));mfp._lastFocusedEl=document.activeElement;setTimeout(function(){if(mfp.content){mfp._addClassToMFP(READY_CLASS);mfp._setFocus();}else{mfp.bgOverlay.addClass(READY_CLASS);}
_document.on('focusin'+EVENT_NS,mfp._onFocusIn);},16);mfp.isOpen=true;mfp.updateSize(windowHeight);_mfpTrigger(OPEN_EVENT);return data;},close:function(){if(!mfp.isOpen)return;_mfpTrigger(BEFORE_CLOSE_EVENT);mfp.isOpen=false;if(mfp.st.removalDelay&&!mfp.isLowIE&&mfp.supportsTransition){mfp._addClassToMFP(REMOVING_CLASS);setTimeout(function(){mfp._close();},mfp.st.removalDelay);}else{mfp._close();}},_close:function(){_mfpTrigger(CLOSE_EVENT);var classesToRemove=REMOVING_CLASS+' '+READY_CLASS+' ';mfp.bgOverlay.detach();mfp.wrap.detach();mfp.container.empty();if(mfp.st.mainClass){classesToRemove+=mfp.st.mainClass+' ';}
mfp._removeClassFromMFP(classesToRemove);if(mfp.fixedContentPos){var windowStyles={marginRight:''};if(mfp.isIE7){$('body, html').css('overflow','');}else{windowStyles.overflow='';}
$('html').css(windowStyles);}
_document.off('keyup'+EVENT_NS+' focusin'+EVENT_NS);mfp.ev.off(EVENT_NS);mfp.wrap.attr('class','mfp-wrap').removeAttr('style');mfp.bgOverlay.attr('class','mfp-bg');mfp.container.attr('class','mfp-container');if(mfp.st.showCloseBtn&&(!mfp.st.closeBtnInside||mfp.currTemplate[mfp.currItem.type]===true)){if(mfp.currTemplate.closeBtn)
mfp.currTemplate.closeBtn.detach();}
if(mfp._lastFocusedEl){$(mfp._lastFocusedEl).focus();}
mfp.currItem=null;mfp.content=null;mfp.currTemplate=null;mfp.prevHeight=0;_mfpTrigger(AFTER_CLOSE_EVENT);},updateSize:function(winHeight){if(mfp.isIOS){var zoomLevel=document.documentElement.clientWidth/window.innerWidth;var height=window.innerHeight*zoomLevel;mfp.wrap.css('height',height);mfp.wH=height;}else{mfp.wH=winHeight||_window.height();}
if(!mfp.fixedContentPos){mfp.wrap.css('height',mfp.wH);}
_mfpTrigger('Resize');},updateItemHTML:function(){var item=mfp.items[mfp.index];mfp.contentContainer.detach();if(mfp.content)
mfp.content.detach();if(!item.parsed){item=mfp.parseEl(mfp.index);}
var type=item.type;_mfpTrigger('BeforeChange',[mfp.currItem?mfp.currItem.type:'',type]);mfp.currItem=item;if(!mfp.currTemplate[type]){var markup=mfp.st[type]?mfp.st[type].markup:false;_mfpTrigger('FirstMarkupParse',markup);if(markup){mfp.currTemplate[type]=$(markup);}else{mfp.currTemplate[type]=true;}}
if(_prevContentType&&_prevContentType!==item.type){mfp.container.removeClass('mfp-'+_prevContentType+'-holder');}
var newContent=mfp['get'+type.charAt(0).toUpperCase()+type.slice(1)](item,mfp.currTemplate[type]);mfp.appendContent(newContent,type);item.preloaded=true;_mfpTrigger(CHANGE_EVENT,item);_prevContentType=item.type;mfp.container.prepend(mfp.contentContainer);_mfpTrigger('AfterChange');},appendContent:function(newContent,type){mfp.content=newContent;if(newContent){if(mfp.st.showCloseBtn&&mfp.st.closeBtnInside&&mfp.currTemplate[type]===true){if(!mfp.content.find('.mfp-close').length){mfp.content.append(_getCloseBtn());}}else{mfp.content=newContent;}}else{mfp.content='';}
_mfpTrigger(BEFORE_APPEND_EVENT);mfp.container.addClass('mfp-'+type+'-holder');mfp.contentContainer.append(mfp.content);},parseEl:function(index){var item=mfp.items[index],type;if(item.tagName){item={el:$(item)};}else{type=item.type;item={data:item,src:item.src};}
if(item.el){var types=mfp.types;for(var i=0;i<types.length;i++){if(item.el.hasClass('mfp-'+types[i])){type=types[i];break;}}
item.src=item.el.attr('data-mfp-src');if(!item.src){item.src=item.el.attr('href');}}
item.type=type||mfp.st.type||'inline';item.index=index;item.parsed=true;mfp.items[index]=item;_mfpTrigger('ElementParse',item);return mfp.items[index];},addGroup:function(el,options){var eHandler=function(e){e.mfpEl=this;mfp._openClick(e,el,options);};if(!options){options={};}
var eName='click.magnificPopup';options.mainEl=el;if(options.items){options.isObj=true;el.off(eName).on(eName,eHandler);}else{options.isObj=false;if(options.delegate){el.off(eName).on(eName,options.delegate,eHandler);}else{options.items=el;el.off(eName).on(eName,eHandler);}}},_openClick:function(e,el,options){var midClick=options.midClick!==undefined?options.midClick:$.magnificPopup.defaults.midClick;if(!midClick&&(e.which===2||e.ctrlKey||e.metaKey)){return;}
var disableOn=options.disableOn!==undefined?options.disableOn:$.magnificPopup.defaults.disableOn;if(disableOn){if($.isFunction(disableOn)){if(!disableOn.call(mfp)){return true;}}else{if(_window.width()<disableOn){return true;}}}
if(e.type){e.preventDefault();if(mfp.isOpen){e.stopPropagation();}}
options.el=$(e.mfpEl);if(options.delegate){options.items=el.find(options.delegate);}
mfp.open(options);},updateStatus:function(status,text){if(mfp.preloader){if(_prevStatus!==status){mfp.container.removeClass('mfp-s-'+_prevStatus);}
if(!text&&status==='loading'){text=mfp.st.tLoading;}
var data={status:status,text:text};_mfpTrigger('UpdateStatus',data);status=data.status;text=data.text;mfp.preloader.html(text);mfp.preloader.find('a').on('click',function(e){e.stopImmediatePropagation();});mfp.container.addClass('mfp-s-'+status);_prevStatus=status;}},_checkIfClose:function(target){if($(target).hasClass(PREVENT_CLOSE_CLASS)){return;}
var closeOnContent=mfp.st.closeOnContentClick;var closeOnBg=mfp.st.closeOnBgClick;if(closeOnContent&&closeOnBg){return true;}else{if(!mfp.content||$(target).hasClass('mfp-close')||(mfp.preloader&&target===mfp.preloader[0])){return true;}
if((target!==mfp.content[0]&&!$.contains(mfp.content[0],target))){if(closeOnBg){if($.contains(document,target)){return true;}}}else if(closeOnContent){return true;}}
return false;},_addClassToMFP:function(cName){mfp.bgOverlay.addClass(cName);mfp.wrap.addClass(cName);},_removeClassFromMFP:function(cName){this.bgOverlay.removeClass(cName);mfp.wrap.removeClass(cName);},_hasScrollBar:function(winHeight){return((mfp.isIE7?_document.height():document.body.scrollHeight)>(winHeight||_window.height()));},_setFocus:function(){(mfp.st.focus?mfp.content.find(mfp.st.focus).eq(0):mfp.wrap).focus();},_onFocusIn:function(e){if(e.target!==mfp.wrap[0]&&!$.contains(mfp.wrap[0],e.target)){mfp._setFocus();return false;}},_parseMarkup:function(template,values,item){var arr;if(item.data){values=$.extend(item.data,values);}
_mfpTrigger(MARKUP_PARSE_EVENT,[template,values,item]);$.each(values,function(key,value){if(value===undefined||value===false){return true;}
arr=key.split('_');if(arr.length>1){var el=template.find(EVENT_NS+'-'+arr[0]);if(el.length>0){var attr=arr[1];if(attr==='replaceWith'){if(el[0]!==value[0]){el.replaceWith(value);}}else if(attr==='img'){if(el.is('img')){el.attr('src',value);}else{el.replaceWith('<img src="'+value+'" class="'+el.attr('class')+'" />');}}else{el.attr(arr[1],value);}}}else{template.find(EVENT_NS+'-'+key).html(value);}});},_getScrollbarSize:function(){if(mfp.scrollbarSize===undefined){var scrollDiv=document.createElement("div");scrollDiv.style.cssText='width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;';document.body.appendChild(scrollDiv);mfp.scrollbarSize=scrollDiv.offsetWidth-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);}
return mfp.scrollbarSize;}};$.magnificPopup={instance:null,proto:MagnificPopup.prototype,modules:[],open:function(options,index){_checkInstance();if(!options){options={};}else{options=$.extend(true,{},options);}
options.isObj=true;options.index=index||0;return this.instance.open(options);},close:function(){return $.magnificPopup.instance&&$.magnificPopup.instance.close();},registerModule:function(name,module){if(module.options){$.magnificPopup.defaults[name]=module.options;}
$.extend(this.proto,module.proto);this.modules.push(name);},defaults:{disableOn:0,key:null,midClick:false,mainClass:'',preloader:true,focus:'',closeOnContentClick:false,closeOnBgClick:true,closeBtnInside:true,showCloseBtn:true,enableEscapeKey:true,modal:false,alignTop:false,removalDelay:0,prependTo:null,fixedContentPos:'auto',fixedBgPos:'auto',overflowY:'auto',closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:'Close (Esc)',tLoading:'Loading...'}};$.fn.magnificPopup=function(options){_checkInstance();var jqEl=$(this);if(typeof options==="string"){if(options==='open'){var items,itemOpts=_isJQ?jqEl.data('magnificPopup'):jqEl[0].magnificPopup,index=parseInt(arguments[1],10)||0;if(itemOpts.items){items=itemOpts.items[index];}else{items=jqEl;if(itemOpts.delegate){items=items.find(itemOpts.delegate);}
items=items.eq(index);}
mfp._openClick({mfpEl:items},jqEl,itemOpts);}else{if(mfp.isOpen)
mfp[options].apply(mfp,Array.prototype.slice.call(arguments,1));}}else{options=$.extend(true,{},options);if(_isJQ){jqEl.data('magnificPopup',options);}else{jqEl[0].magnificPopup=options;}
mfp.addGroup(jqEl,options);}
return jqEl;};var _imgInterval,_getTitle=function(item){if(item.data&&item.data.title!==undefined)
return item.data.title;var src=mfp.st.image.titleSrc;if(src){if($.isFunction(src)){return src.call(mfp,item);}else if(item.el){return item.el.attr(src)||'';}}
return'';};$.magnificPopup.registerModule('image',{options:{markup:'<div class="mfp-figure">'+'<div class="mfp-close"></div>'+'<figure>'+'<div class="mfp-img"></div>'+'<figcaption>'+'<div class="mfp-bottom-bar">'+'<div class="mfp-title"></div>'+'<div class="mfp-counter"></div>'+'</div>'+'</figcaption>'+'</figure>'+'</div>',cursor:'mfp-zoom-out-cur',titleSrc:'title',verticalFit:true,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var imgSt=mfp.st.image,ns='.image';mfp.types.push('image');_mfpOn(OPEN_EVENT+ns,function(){if(mfp.currItem.type==='image'&&imgSt.cursor){$(document.body).addClass(imgSt.cursor);}});_mfpOn(CLOSE_EVENT+ns,function(){if(imgSt.cursor){$(document.body).removeClass(imgSt.cursor);}
_window.off('resize'+EVENT_NS);});_mfpOn('Resize'+ns,mfp.resizeImage);if(mfp.isLowIE){_mfpOn('AfterChange',mfp.resizeImage);}},resizeImage:function(){var item=mfp.currItem;if(!item||!item.img)return;if(mfp.st.image.verticalFit){var decr=0;if(mfp.isLowIE){decr=parseInt(item.img.css('padding-top'),10)+parseInt(item.img.css('padding-bottom'),10);}
item.img.css('max-height',mfp.wH-decr);}},_onImageHasSize:function(item){if(item.img){item.hasSize=true;if(_imgInterval){clearInterval(_imgInterval);}
item.isCheckingImgSize=false;_mfpTrigger('ImageHasSize',item);if(item.imgHidden){if(mfp.content)
mfp.content.removeClass('mfp-loading');item.imgHidden=false;}}},findImageSize:function(item){var counter=0,img=item.img[0],mfpSetInterval=function(delay){if(_imgInterval){clearInterval(_imgInterval);}
_imgInterval=setInterval(function(){if(img.naturalWidth>0){mfp._onImageHasSize(item);return;}
if(counter>200){clearInterval(_imgInterval);}
counter++;if(counter===3){mfpSetInterval(10);}else if(counter===40){mfpSetInterval(50);}else if(counter===100){mfpSetInterval(500);}},delay);};mfpSetInterval(1);},getImage:function(item,template){var guard=0,onLoadComplete=function(){if(item){if(item.img[0].complete){item.img.off('.mfploader');if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus('ready');}
item.hasSize=true;item.loaded=true;_mfpTrigger('ImageLoadComplete');}
else{guard++;if(guard<200){setTimeout(onLoadComplete,100);}else{onLoadError();}}}},onLoadError=function(){if(item){item.img.off('.mfploader');if(item===mfp.currItem){mfp._onImageHasSize(item);mfp.updateStatus('error',imgSt.tError.replace('%url%',item.src));}
item.hasSize=true;item.loaded=true;item.loadError=true;}},imgSt=mfp.st.image;var el=template.find('.mfp-img');if(el.length){var img=document.createElement('img');img.className='mfp-img';if(item.el&&item.el.find('img').length){img.alt=item.el.find('img').attr('alt');}
item.img=$(img).on('load.mfploader',onLoadComplete).on('error.mfploader',onLoadError);img.src=item.src;if(el.is('img')){item.img=item.img.clone();}
img=item.img[0];if(img.naturalWidth>0){item.hasSize=true;}else if(!img.width){item.hasSize=false;}}
mfp._parseMarkup(template,{title:_getTitle(item),img_replaceWith:item.img},item);mfp.resizeImage();if(item.hasSize){if(_imgInterval)clearInterval(_imgInterval);if(item.loadError){template.addClass('mfp-loading');mfp.updateStatus('error',imgSt.tError.replace('%url%',item.src));}else{template.removeClass('mfp-loading');mfp.updateStatus('ready');}
return template;}
mfp.updateStatus('loading');item.loading=true;if(!item.hasSize){item.imgHidden=true;template.addClass('mfp-loading');mfp.findImageSize(item);}
return template;}}});var hasMozTransform,getHasMozTransform=function(){if(hasMozTransform===undefined){hasMozTransform=document.createElement('p').style.MozTransform!==undefined;}
return hasMozTransform;};$.magnificPopup.registerModule('zoom',{options:{enabled:false,easing:'ease-in-out',duration:300,opener:function(element){return element.is('img')?element:element.find('img');}},proto:{initZoom:function(){var zoomSt=mfp.st.zoom,ns='.zoom',image;if(!zoomSt.enabled||!mfp.supportsTransition){return;}
var duration=zoomSt.duration,getElToAnimate=function(image){var newImg=image.clone().removeAttr('style').removeAttr('class').addClass('mfp-animated-image'),transition='all '+(zoomSt.duration/1000)+'s '+zoomSt.easing,cssObj={position:'fixed',zIndex:9999,left:0,top:0,'-webkit-backface-visibility':'hidden'},t='transition';cssObj['-webkit-'+t]=cssObj['-moz-'+t]=cssObj['-o-'+t]=cssObj[t]=transition;newImg.css(cssObj);return newImg;},showMainContent=function(){mfp.content.css('visibility','visible');},openTimeout,animatedImg;_mfpOn('BuildControls'+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.content.css('visibility','hidden');image=mfp._getItemToZoom();if(!image){showMainContent();return;}
animatedImg=getElToAnimate(image);animatedImg.css(mfp._getOffset());mfp.wrap.append(animatedImg);openTimeout=setTimeout(function(){animatedImg.css(mfp._getOffset(true));openTimeout=setTimeout(function(){showMainContent();setTimeout(function(){animatedImg.remove();image=animatedImg=null;_mfpTrigger('ZoomAnimationEnded');},16);},duration);},16);}});_mfpOn(BEFORE_CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){clearTimeout(openTimeout);mfp.st.removalDelay=duration;if(!image){image=mfp._getItemToZoom();if(!image){return;}
animatedImg=getElToAnimate(image);}
animatedImg.css(mfp._getOffset(true));mfp.wrap.append(animatedImg);mfp.content.css('visibility','hidden');setTimeout(function(){animatedImg.css(mfp._getOffset());},16);}});_mfpOn(CLOSE_EVENT+ns,function(){if(mfp._allowZoom()){showMainContent();if(animatedImg){animatedImg.remove();}
image=null;}});},_allowZoom:function(){return mfp.currItem.type==='image';},_getItemToZoom:function(){if(mfp.currItem.hasSize){return mfp.currItem.img;}else{return false;}},_getOffset:function(isLarge){var el;if(isLarge){el=mfp.currItem.img;}else{el=mfp.st.zoom.opener(mfp.currItem.el||mfp.currItem);}
var offset=el.offset();var paddingTop=parseInt(el.css('padding-top'),10);var paddingBottom=parseInt(el.css('padding-bottom'),10);offset.top-=($(window).scrollTop()-paddingTop);var obj={width:el.width(),height:(_isJQ?el.innerHeight():el[0].offsetHeight)-paddingBottom-paddingTop};if(getHasMozTransform()){obj['-moz-transform']=obj['transform']='translate('+offset.left+'px,'+offset.top+'px)';}else{obj.left=offset.left;obj.top=offset.top;}
return obj;}}});var _getLoopedId=function(index){var numSlides=mfp.items.length;if(index>numSlides-1){return index-numSlides;}else if(index<0){return numSlides+index;}
return index;},_replaceCurrTotal=function(text,curr,total){return text.replace(/%curr%/gi,curr+1).replace(/%total%/gi,total);};$.magnificPopup.registerModule('gallery',{options:{enabled:false,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:true,arrows:true,tPrev:'Previous (Left arrow key)',tNext:'Next (Right arrow key)',tCounter:'%curr% of %total%'},proto:{initGallery:function(){var gSt=mfp.st.gallery,ns='.mfp-gallery',supportsFastClick=Boolean($.fn.mfpFastClick);mfp.direction=true;if(!gSt||!gSt.enabled)return false;_wrapClasses+=' mfp-gallery';_mfpOn(OPEN_EVENT+ns,function(){if(gSt.navigateByImgClick){mfp.wrap.on('click'+ns,'.mfp-img',function(){if(mfp.items.length>1){mfp.next();return false;}});}
_document.on('keydown'+ns,function(e){if(e.keyCode===37){mfp.prev();}else if(e.keyCode===39){mfp.next();}});});_mfpOn('UpdateStatus'+ns,function(e,data){if(data.text){data.text=_replaceCurrTotal(data.text,mfp.currItem.index,mfp.items.length);}});_mfpOn(MARKUP_PARSE_EVENT+ns,function(e,element,values,item){var l=mfp.items.length;values.counter=l>1?_replaceCurrTotal(gSt.tCounter,item.index,l):'';});_mfpOn('BuildControls'+ns,function(){if(mfp.items.length>1&&gSt.arrows&&!mfp.arrowLeft){var markup=gSt.arrowMarkup,arrowLeft=mfp.arrowLeft=$(markup.replace(/%title%/gi,gSt.tPrev).replace(/%dir%/gi,'left')).addClass(PREVENT_CLOSE_CLASS),arrowRight=mfp.arrowRight=$(markup.replace(/%title%/gi,gSt.tNext).replace(/%dir%/gi,'right')).addClass(PREVENT_CLOSE_CLASS);var eName=supportsFastClick?'mfpFastClick':'click';arrowLeft[eName](function(){mfp.prev();});arrowRight[eName](function(){mfp.next();});if(mfp.isIE7){_getEl('b',arrowLeft[0],false,true);_getEl('a',arrowLeft[0],false,true);_getEl('b',arrowRight[0],false,true);_getEl('a',arrowRight[0],false,true);}
mfp.container.append(arrowLeft.add(arrowRight));}});_mfpOn(CHANGE_EVENT+ns,function(){if(mfp._preloadTimeout)clearTimeout(mfp._preloadTimeout);mfp._preloadTimeout=setTimeout(function(){mfp.preloadNearbyImages();mfp._preloadTimeout=null;},16);});_mfpOn(CLOSE_EVENT+ns,function(){_document.off(ns);mfp.wrap.off('click'+ns);if(mfp.arrowLeft&&supportsFastClick){mfp.arrowLeft.add(mfp.arrowRight).destroyMfpFastClick();}
mfp.arrowRight=mfp.arrowLeft=null;});},next:function(){mfp.direction=true;mfp.index=_getLoopedId(mfp.index+1);mfp.updateItemHTML();},prev:function(){mfp.direction=false;mfp.index=_getLoopedId(mfp.index-1);mfp.updateItemHTML();},goTo:function(newIndex){mfp.direction=(newIndex>=mfp.index);mfp.index=newIndex;mfp.updateItemHTML();},preloadNearbyImages:function(){var p=mfp.st.gallery.preload,preloadBefore=Math.min(p[0],mfp.items.length),preloadAfter=Math.min(p[1],mfp.items.length),i;for(i=1;i<=(mfp.direction?preloadAfter:preloadBefore);i++){mfp._preloadItem(mfp.index+i);}
for(i=1;i<=(mfp.direction?preloadBefore:preloadAfter);i++){mfp._preloadItem(mfp.index-i);}},_preloadItem:function(index){index=_getLoopedId(index);if(mfp.items[index].preloaded){return;}
var item=mfp.items[index];if(!item.parsed){item=mfp.parseEl(index);}
_mfpTrigger('LazyLoad',item);if(item.type==='image'){item.img=$('<img class="mfp-img" />').on('load.mfploader',function(){item.hasSize=true;}).on('error.mfploader',function(){item.hasSize=true;item.loadError=true;_mfpTrigger('LazyLoadError',item);}).attr('src',item.src);}
item.preloaded=true;}}});(function(){var ghostClickDelay=1000,supportsTouch='ontouchstart'in window,unbindTouchMove=function(){_window.off('touchmove'+ns+' touchend'+ns);},eName='mfpFastClick',ns='.'+eName;$.fn.mfpFastClick=function(callback){return $(this).each(function(){var elem=$(this),lock;if(supportsTouch){var timeout,startX,startY,pointerMoved,point,numPointers;elem.on('touchstart'+ns,function(e){pointerMoved=false;numPointers=1;point=e.originalEvent?e.originalEvent.touches[0]:e.touches[0];startX=point.clientX;startY=point.clientY;_window.on('touchmove'+ns,function(e){point=e.originalEvent?e.originalEvent.touches:e.touches;numPointers=point.length;point=point[0];if(Math.abs(point.clientX-startX)>10||Math.abs(point.clientY-startY)>10){pointerMoved=true;unbindTouchMove();}}).on('touchend'+ns,function(e){unbindTouchMove();if(pointerMoved||numPointers>1){return;}
lock=true;e.preventDefault();clearTimeout(timeout);timeout=setTimeout(function(){lock=false;},ghostClickDelay);callback();});});}
elem.on('click'+ns,function(){if(!lock){callback();}});});};$.fn.destroyMfpFastClick=function(){$(this).off('touchstart'+ns+' click'+ns);if(supportsTouch)_window.off('touchmove'+ns+' touchend'+ns);};})();_checkInstance();}));$.fn.navPointer=function(items){var $this=$(this),$window=$(window),$document=$(document),$pointer=$('<div class="nav-pointer noselect"></div>'),navOffset=24,moved=false
$this.append($pointer)
function update(){var scrollTop=$document.scrollTop()
for(var i=items.length-1;i>=0;i--){var $nav=items[i][0],$content=items[i][1],contentTop=$content.offset().top
if(scrollTop>contentTop-1){var navHeight=$nav.height()
if(i==items.length-1){var contentBottom=$document.height()-$window.height()
navHeight-=navOffset
navHeight+=6}else{var $contentNext=items[i+1][1],contentBottom=$contentNext.offset().top}
var progress=(scrollTop-contentTop)/(contentBottom-contentTop),navTop=$nav.position().top
$pointer.css('top',navTop+navOffset+navHeight*progress)
return}}
var $nav=items[0][0]
$pointer.css('top',$nav.position().top+navOffset)}
update()
$window.on('scroll resize',function(){moved=true})
setInterval(function(){if(moved){moved=false
update()}},100)
return this};(function(){var $window=$(window),scrolled=false,sort=false,interval=100;var events={start:function(){$window.on('scroll.scrollo resize.scrollo',function(){scrolled=true;});events.interval=setInterval(function(){if(scrolled){scrolled=false;if(sort){sort=false;callbacks.sort();}
callbacks.run();if(callbacks.items.length==0){events.stop();}}},interval);},stop:function(){$window.off('scroll.scrollo resize.scrollo');clearInterval(events.interval);},}
var callbacks={items:[],add:function(item){callbacks.items.push(item);},sort:function(){callbacks.items.sort(function(a,b){var aTop=a.el.offset().top-a.padding,bTop=b.el.offset().top-b.padding;return aTop-bTop;});},run:function(){var windowBottom=$window.scrollTop()+$window.height();while(callbacks.items.length){var item=callbacks.items[0],itemTop=item.el.offset().top;if(itemTop-item.padding>windowBottom){break}
item.callback();callbacks.items.splice(0,1);}}}
$.fn.scrollo=function(callback,padding){sort=true;scrolled=true;if(callback===undefined){return;}
callbacks.add({el:$(this),callback:callback,padding:padding||0});if(callbacks.items.length==1){events.start()}
return this;}})();$.fn.noscript=function(transform){if(transform===undefined){transform=function(html){return html}}
this.find('noscript').each(function(){var $noscript=$(this),html=transform($noscript.text()),$contents=$('<div>'+html+'</div>').contents()
$contents.insertAfter($noscript)
$noscript.remove()})
return this}
$.fn.lazyImage=function(){var $a=$(this),$img=$a.children('img')
if($img.attr('src')===undefined){if($img.length){var alt=$img.attr('alt'),src=$img.attr('data-src'),width=$img.attr('width'),height=$img.attr('height')
$a.attr({'target':'_blank','title':alt,'data-img-src':src,'data-img-ratio':parseInt(width)/parseInt(height)}).css({width:width+'px',height:height+'px'})
$img.remove()}else{var src=$a.attr('data-img-src'),width=$a.width(),height=$a.height(),idealSrc=flickrURL(src,width,height)
$a.append($('<img>').attr({alt:$a.attr('title'),src:idealSrc,width:width+2}))}}
return this}
$.fn.resizeImage=function(){var $this=$(this)
if($this.is('a')){var $a=$this
$a.find('img').each(function(){var $img=$(this),src=$img.attr('src'),width=$a.width(),height=$a.height(),idealSrc=flickrURL(src,width,height)
if(src!=idealSrc){$img.attr('src',idealSrc)}})}else if($this.is('img')){var src=$this.attr('src'),idealSrc=flickrURL(src,$this.width(),$this.height())
if(src!=idealSrc){$this.attr('src',idealSrc)}}else if(this.length){console.log("unexpected element for resizeImage",this)
throw"unexpected element for resizeImage"}
return this}
$(function(){var $window=$(window),$nav=$('nav')
$nav.navPointer([[$('#links-nav'),$('.content.links .content-subhead')],[$('#posts-nav'),$('#posts')],[$('#photos-nav'),$('#photos')],])
$('#gallery').removeClass('noscript').noscript(function(html){return html.replace(/ src=/g,' data-src=')}).find('a').each(function(){$(this).lazyImage().scrollo(function(){this.el.lazyImage()},100)}).end().imgrid({selector:'a',rowHeight:400}).find('a').each(function(){$(this).resizeImage()}).end().on('resize.imgrid',function(){$(this).find('a').each(function(){$(this).resizeImage()})
$.fn.scrollo()}).magnificPopup({delegate:'a',disableOn:function(){return $nav.is(':visible')},type:'image',closeOnContentClick:true,closeBtnInside:false,preloader:false,callbacks:{elementParse:function(item){var src=item.el.attr('data-img-src'),ratio=parseFloat(item.el.attr('data-img-ratio')),height=$window.height(),width=height*ratio
item.src=flickrURL(src,width,height)}},image:{verticalFit:true},gallery:{enabled:true,navigateByImgClick:false,preload:[1,2]},zoom:{enabled:true}}).on('mfpAfterChange mfpResize',function(event){$.each($.magnificPopup.instance.items,function(index,item){if(item.el&&this.src){$.magnificPopup.instance.st.callbacks.elementParse(item)}})
$('img.mfp-img').each(function(){$(this).attr('src',$.magnificPopup.instance.currItem.src)})})});</script>
    </body>
</html>
